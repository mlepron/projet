<!DOCTYPE html>
<script>

</script>
<html>
<head>
<!-- Load the Paper.js library -->
<script type="text/javascript" src="paperjs/docs/assets/js/paper.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/paperscript" canvas="myCanvas">
	tool.maxDistance = 10;
	var max=15;
	var tab = new Array();
	var i=0;
/*
function onMouseDrag(event) {
		var circle = new Path.Circle({
			center: event.middlePoint,
			radius:10
		});
		circle.fillColor = 'black';
		tab.push(circle);
	if(tab.length>=max){
		tab[i].remove();	
		i++;
	}
}*/

var circle = new Path.Circle({
			center: event.middlePoint,
			radius:10
		});
		circle.fillColor = 'black';
var dest=false;
var dest2; 
var vector;
function onMouseDown(event){
	paper.view.detach('frame', firstAnimation);
        dest=true;
	dest2=event.point;
	vector = dest2 - circle.position;
	vector=vector.normalize(Math.abs(100));
	setTimeout(function(){  // start second animation
	     paper.view.attach('frame', firstAnimation);
	}, 10);
	 
	
}

function firstAnimation(){
	if(dest){
		
		circle.position += vector / 50;
	
	}	
}

function onFrame(event) {
	
}


</script>
</head>
<body>
	<canvas id="myCanvas" style="width:100%;height:100%;background-color:#e9e9e9;" resize></canvas>
</body>
</html>
